jQuery(document).ready(function ($) {
    $('select.wbm-multiselect').select2();

    var fixHelperModified = function (e, tr) {
        var $originals = tr.children();
        var $helper = tr.clone();
        $helper.children().each(function (index) {
            $(this).width($originals.eq(index).width());
        });
        return $helper;
    };

    if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
        //Make diagnosis table sortable
        $('.sort_me tbody').sortable({
            helper: fixHelperModified,
            stop: function () {
                renumberTable('.sort_me');
            }
        });      
    }
    
    $('#cat_banner_title_font_size').change(function() {
        var current_counter = $(this).val();
        $('.counter_total').html(current_counter);
    });

    /*
     * Woocommerce-banner-managment edit  uploading script
     */
    //Set the category page banner upload script Single Banner
    $('.mdwbm_upload_single_file_button').on('click', function (event) {
        var fileFrame, attachment;
        event.preventDefault();


        // If the media frame already exists, reopen it.
        if (fileFrame) {
            fileFrame.open();
            return;
        }

        // Create the media frame.
        fileFrame = wp.media.frames.fileFrame = wp.media({
            title: jQuery(this).data('uploader_title'),
            button: {
                text: jQuery(this).data('uploader_button_text'),
            },
            multiple: false
        });

        // When an file is selected, run a callback.
        fileFrame.on('select', function () {

            attachment = fileFrame.state().get('selection').first().toJSON();

            if(attachment.height > 600 || attachment.width > 1800 ){
                $('.msg_size').remove();
                $('.mdwbm_remove_file').after('<span class="msg_size" style="color:red;vertical-align: middle;padding: 10px;">Upload image size maximum ratio of 1800px X 600px </span>');
                return;
            } else {
                $('.msg_size').remove();
            }
            // Update front end
            $('.cat_banner_single_img_admin').attr('src', attachment.url);
            $('.mdwbm_image').attr('value', attachment.url);
            $('.cat_banner_single_img_admin').css('display', 'block');
        });

        // Open the Modal
        fileFrame.open();
    });

    if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
    //set the custom field script for add category page
    $('.mdwbm_upload_file_button').on('click', function (event) {
        var fileFrame;
        var attachment;
        var imageId = '';
        event.preventDefault();

        // If the media frame already exists, reopen it.
        if (fileFrame) {
            fileFrame.open();
            return;
        }

        // Create the media frame.
        fileFrame = wp.media.frames.fileFrame = wp.media({
            title: jQuery(this).data('uploader_title'),
            button: {
                text: jQuery(this).data('uploader_button_text'),
            },
            multiple: true
        });

        // When an file is selected, run a callback.
        fileFrame.on('select', function () {
            attachment = fileFrame.state().get('selection').toJSON();

            $.each(attachment, function (key, value) {
                var trTag;
                var td1;
                var td2;
                var td3;

                // Update front end
                imageId = $.now() + '' + key + '-' + value.id;
                td1 = $('<td />');
                td2 = $('<td />');
                td3 = $('<td />');

                $('<img />', {
                    'style': '',
                    'class': 'wbm_add_cat_banner_img banner_add_cat_image_' + imageId,
                    'src': value.url
                }).appendTo(td1);
                $('<input />', {
                    'type': 'hidden',
                    'name': 'term_meta[images][' + imageId + '][image_id]',
                    'class': 'wbm_add_cat_banner_img_admin banner_cat_image_' + imageId,
                    'value': imageId
                }).appendTo(td2);
                $('<input />', {
                    'type': 'text',
                    'placeholder': 'Enter banner image link',
                    'title': 'Example: https://multidots.com',
                    'name': 'term_meta[images][' + imageId + '][image_link]',
                    'class': 'wbm_cat_page_cat_banner_link_admin add_category_input_' + imageId,
                }).appendTo(td2);
                $('<input />', {
                    'type': 'hidden',
                    'name': 'term_meta[images][' + imageId + '][image_url]',
                    'value': value.url
                }).appendTo(td2);
                $('<a />', {
                    'class': 'cat-single-image-delete single-image-delete',
                    'id': imageId,
                    'text': 'Delete'
                }).appendTo(td3);

                trTag = $('<tr />', {'id': 'add_category_' + imageId, 'class': 'add_category_dynamic_div ui-sortable-handle'});
                $(td1).appendTo(trTag);
                $(td2).appendTo(trTag);
                $(td3).appendTo(trTag);
                $(trTag).appendTo('#cat-multiple-banner-image table');
            });
            remove_slider_image_init();
            $('.sort_me').sortable({
                helper: fixHelperModified,
                stop: function () {
                    renumberTable('.sort_me');
                }
            }); 
        });

        // Open the Modal
        fileFrame.open();
    });
    }

    //Set the shop page banner upload script Single Banner
    $('.wbm_shop_page_single_upload_file_button').on('click', function (event) {
        var fileFrame;
        var attachment;
        event.preventDefault();

        // If the media frame already exists, reopen it.
        if (fileFrame) {
            fileFrame.open();
            return;
        }

        // Create the media frame.
        fileFrame = wp.media.frames.fileFrame = wp.media({
            title: jQuery(this).data('uploader_title'),
            button: {
                text: jQuery(this).data('uploader_button_text'),
            },
            multiple: false
        });

        // When an file is selected, run a callback.
        fileFrame.on('select', function () {

            attachment = fileFrame.state().get('selection').first().toJSON();

            if(attachment.height > 600 || attachment.width > 1800 ){
                $('.msg_size').remove();
                $('.wbm_shop_page_remove_single_file').after('<span class="msg_size" style="color:red;vertical-align: middle;padding: 10px;">Upload image size maximum ratio of 1800px X 600px </span>');
                return;
            } else {
                $('.msg_size').remove();
            }
            // Update front end
            $('.wbm_shop_page_cat_banner_img_admin_single').attr('src', attachment.url);
            $('.wbm_shop_page_cat_banner_img_admin_single').css('display', 'block');
        });

        // Open the Modal
        fileFrame.open();
    });

    if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
    //Set the shop page banner upload script Multiple Banner
    $('.wbm_shop_page_multi_upload_file_button').on('click', function (event) {
        var fileFrame;
        var attachment;
        event.preventDefault();

        // If the media frame already exists, reopen it.
        if (fileFrame) {
            fileFrame.open();
            return;
        }

        // Create the media frame.
        fileFrame = wp.media.frames.fileFrame = wp.media({
            title: jQuery(this).data('uploader_title'),
            button: {
                text: jQuery(this).data('uploader_button_text'),
            },
            multiple: true
        });

        // When an file is selected, run a callback.
        fileFrame.on('select', function () {
            attachment = fileFrame.state().get('selection').toJSON();

            $.each(attachment, function (key, value) {

                // Update front end
                var imageId = $.now() + '' + key + '-' + value.id;
                var td1;
                var td2;
                var td3;
                var trTag;

                // Update front end
                imageId = $.now() + '' + key + '-' + value.id;
                td1 = $('<td />');
                td2 = $('<td />');
                td3 = $('<td />');

                $('<img />', {
                    'class': 'wbm_shop_page_cat_banner_img_admin banner_shop_image_' + imageId,
                    'src': value.url
                }).appendTo(td1);
                $('<input />', {
                    'type': 'text',
                    'placeholder': 'Enter banner image link',
                    'title': 'Example: https://multidots.com',
                    'class': 'banner_shop_input_' + imageId
                }).appendTo(td2);
                $('<a />', {
                    'class': 'shop-single-image-delete single-image-delete',
                    'id': imageId,
                    'text': 'Delete'
                }).appendTo(td3);

                trTag = $('<tr />', {
                    'id': 'banner_shop_' + imageId,
                    'class': 'banner_shop_dynamic_div ui-sortable-handle'
                });
                $(td1).appendTo(trTag);
                $(td2).appendTo(trTag);
                $(td3).appendTo(trTag);
                $(trTag).appendTo('.shop_banner_images table');
            });
            remove_shop_page_slider_image_init();
            $('.sort_me').sortable({
                helper: fixHelperModified,
                stop: function () {
                    renumberTable('.sort_me');
                }
            }); 
        });

        // Open the Modal
        fileFrame.open();
    });
    }

    //Set the other pages banner upload script Single Banner
    $('.wbm_other_page_single_upload_file_button').on('click', function (event) {
        var fileFrame;
        var attachment;
        event.preventDefault();

        // If the media frame already exists, reopen it.
        if (fileFrame) {
            fileFrame.open();
            return;
        }

        // Create the media frame.
        fileFrame = wp.media.frames.fileFrame = wp.media({
            title: jQuery(this).data('uploader_title'),
            button: {
                text: jQuery(this).data('uploader_button_text'),
            },
            multiple: false
        });

        // When an file is selected, run a callback.
        fileFrame.on('select', function () {

            attachment = fileFrame.state().get('selection').first().toJSON();

            if(attachment.height > 600 || attachment.width > 1800 ){
                $('.msg_size').remove();
                $('.wbm_other_page_remove_single_file').after('<span class="msg_size" style="color:red;vertical-align: middle;padding: 10px;">Upload image size maximum ratio of 1800px X 600px </span>');
                return;
            } else {
                $('.msg_size').remove();
            }
            // Update front end
            $('.wbm_other_page_cat_banner_img_admin_single').attr('src', attachment.url);
            $('.wbm_other_page_cat_banner_img_admin_single').css('display', 'block');
        });

        // Open the Modal
        fileFrame.open();
    });

    if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
    //Set the shop page banner upload script Multiple Banner
    $('.wbm_other_page_multi_upload_file_button').on('click', function (event) {
        var fileFrame;
        var attachment;
        event.preventDefault();

        // If the media frame already exists, reopen it.
        if (fileFrame) {
            fileFrame.open();
            return;
        }

        // Create the media frame.
        fileFrame = wp.media.frames.fileFrame = wp.media({
            title: jQuery(this).data('uploader_title'),
            button: {
                text: jQuery(this).data('uploader_button_text'),
            },
            multiple: true
        });

        // When an file is selected, run a callback.
        fileFrame.on('select', function () {
            attachment = fileFrame.state().get('selection').toJSON();

            $.each(attachment, function (key, value) {

                // Update front end
                var imageId = $.now() + '' + key + '-' + value.id;
                var td1;
                var td2;
                var td3;
                var trTag;

                // Update front end
                imageId = $.now() + '' + key + '-' + value.id;
                td1 = $('<td />');
                td2 = $('<td />');
                td3 = $('<td />');

                $('<img />', {
                    'class': 'wbm_other_page_cat_banner_img_admin banner_other_image_' + imageId,
                    'src': value.url
                }).appendTo(td1);
                $('<input />', {
                    'type': 'text',
                    'placeholder': 'Enter banner image link',
                    'title': 'Example: https://multidots.com',
                    'class': 'banner_other_input_' + imageId
                }).appendTo(td2);
                $('<a />', {
                    'class': 'other-single-image-delete single-image-delete',
                    'id': imageId,
                    'text': 'Delete'
                }).appendTo(td3);

                trTag = $('<tr />', {
                    'id': 'banner_other_' + imageId,
                    'class': 'banner_other_dynamic_div ui-sortable-handle'
                });
                $(td1).appendTo(trTag);
                $(td2).appendTo(trTag);
                $(td3).appendTo(trTag);
                $(trTag).appendTo('.other_page_banner_images table');
            });
            remove_other_page_slider_image_init();
            $('.sort_me').sortable({
                helper: fixHelperModified,
                stop: function () {
                    renumberTable('.sort_me');
                }
            }); 
        });

        // Open the Modal
        fileFrame.open();
    });
    }

    //Set the cart page banner upload script Single Banner
    $('.wbm_cart_page_single_upload_file_button').on('click', function (event) {
        var fileFrame;
        var attachment;
        event.preventDefault();


        // If the media frame already exists, reopen it.
        if (fileFrame) {
            fileFrame.open();
            return;
        }

        // Create the media frame.
        fileFrame = wp.media.frames.fileFrame = wp.media({
            title: jQuery(this).data('uploader_title'),
            button: {
                text: jQuery(this).data('uploader_button_text'),
            },
            multiple: false
        });

        // When an file is selected, run a callback.
        fileFrame.on('select', function () {

            attachment = fileFrame.state().get('selection').first().toJSON();

            if(attachment.height > 600 || attachment.width > 1800 ){
                $('.msg_size').remove();
                $('.wbm_cart_page_remove_single_file').after('<span class="msg_size" style="color:red;vertical-align: middle;padding: 10px;">Upload image size maximum ratio of 1800px X 600px </span>');
                return;
            } else {
                $('.msg_size').remove();
            }
            // Update front end
            $('.wbm_cart_page_cat_banner_img_admin_single').attr('src', attachment.url);
            $('.wbm_cart_page_cat_banner_img_admin_single').css('display', 'block');
        });

        // Open the Modal
        fileFrame.open();
    });

    if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
    //Set the cart page banner upload script
    $('.wbm_cart_page_upload_file_button').on('click', function (event) {
        var fileFrame;
        var imageId;
        var attachment;
        event.preventDefault();


        // If the media frame already exists, reopen it.
        if (fileFrame) {
            fileFrame.open();
            return;
        }

        // Create the media frame.
        fileFrame = wp.media.frames.fileFrame = wp.media({
            title: jQuery(this).data('uploader_title'),
            button: {
                text: jQuery(this).data('uploader_button_text'),
            },
            multiple: true
        });

        // When an file is selected, run a callback.
        fileFrame.on('select', function () {
            attachment = fileFrame.state().get('selection').toJSON();

            $.each(attachment, function (key, value) {
                var td1;
                var td2;
                var td3;
                var trTag;

                // Update front end
                imageId = $.now() + '' + key + '-' + value.id;

                td1 = $('<td />');
                td2 = $('<td />');
                td3 = $('<td />');

                $('<img />', {
                    'class': 'wbm_cart_page_cat_banner_img_admin banner_cart_image_' + imageId,
                    'src': value.url
                }).appendTo(td1);
                $('<input />', {
                    'type': 'text',
                    'placeholder': 'Enter banner image link',
                    'title': 'Example: https://multidots.com',
                    'class': 'banner_cart_input_' + imageId
                }).appendTo(td2);
                $('<a />', {
                    'class': 'cart-single-image-delete single-image-delete',
                    'id': imageId,
                    'text': 'Delete'
                }).appendTo(td3);

                trTag = $('<tr />', {'id': 'banner_cart_' + imageId, 'class': 'banner_cart_dynamic_div ui-sortable-handle'});
                $(td1).appendTo(trTag);
                $(td2).appendTo(trTag);
                $(td3).appendTo(trTag);
                $(trTag).appendTo('.cart_banner_images table');
            });
            remove_cart_page_slider_image_init();
            $('.sort_me').sortable({
                helper: fixHelperModified,
                stop: function () {
                    renumberTable('.sort_me');
                }
            }); 
        });

        // Open the Modal
        fileFrame.open();
    });
    }

    //Set the checkout page banner upload script Single Banner
    $('.wbm_checkout_page_single_upload_file_button').on('click', function (event) {
        var fileFrame;
        var attachment;
        event.preventDefault();


        // If the media frame already exists, reopen it.
        if (fileFrame) {
            fileFrame.open();
            return;
        }

        // Create the media frame.
        fileFrame = wp.media.frames.fileFrame = wp.media({
            title: jQuery(this).data('uploader_title'),
            button: {
                text: jQuery(this).data('uploader_button_text'),
            },
            multiple: false
        });

        // When an file is selected, run a callback.
        fileFrame.on('select', function () {

            attachment = fileFrame.state().get('selection').first().toJSON();

            if(attachment.height > 600 || attachment.width > 1800 ){
                $('.msg_size').remove();
                $('.wbm_checkout_page_remove_single_file').after('<span class="msg_size" style="color:red;vertical-align: middle;padding: 10px;">Upload image size maximum ratio of 1800px X 600px </span>');
                return;
            } else {
                $('.msg_size').remove();
            }
            // Update front end
            $('.wbm_checkout_page_cat_banner_img_admin_single').attr('src', attachment.url);
            $('.wbm_checkout_page_cat_banner_img_admin_single').css('display', 'block');
        });

        // Open the Modal
        fileFrame.open();
    });

    if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
    //set the check out page banner upload script
    $('.wbm_checkout_page_upload_file_button').on('click', function (event) {
        var fileFrame;
        var attachment;
        var imageId;
        event.preventDefault();


        // If the media frame already exists, reopen it.
        if (fileFrame) {
            fileFrame.open();
            return;
        }

        // Create the media frame.
        fileFrame = wp.media.frames.fileFrame = wp.media({
            title: jQuery(this).data('uploader_title'),
            button: {
                text: jQuery(this).data('uploader_button_text'),
            },
            multiple: true
        });

        // When an file is selected, run a callback.
        fileFrame.on('select', function () {
            attachment = fileFrame.state().get('selection').toJSON();

            $.each(attachment, function (key, value) {
                var td1;
                var td2;
                var td3;
                var trTag;

                // Update front end
                imageId = $.now() + '' + key + '-' + value.id;

                // Update front end
                imageId = $.now() + '' + key + '-' + value.id;
                td1 = $('<td />');
                td2 = $('<td />');
                td3 = $('<td />');

                $('<img />', {
                    'class': 'wbm_checkout_page_cat_banner_img_admin banner_checkout_image_' + imageId,
                    'src': value.url
                }).appendTo(td1);
                $('<input />', {
                    'type': 'text',
                    'placeholder': 'Enter banner image link',
                    'title': 'Example: https://multidots.com',
                    'class': 'banner_checkout_input_' + imageId
                }).appendTo(td2);
                $('<a />', {
                    'class': 'checkout-single-image-delete single-image-delete',
                    'id': imageId,
                    'text': 'Delete'
                }).appendTo(td3);

                trTag = $('<tr />', {
                    'id': 'banner_checkout_' + imageId,
                    'class': 'banner_checkout_dynamic_div ui-sortable-handle'
                });
                $(td1).appendTo(trTag);
                $(td2).appendTo(trTag);
                $(td3).appendTo(trTag);
                $(trTag).appendTo('.checkout_banner_images table');
            });
            remove_checkout_page_slider_image_init();
            $('.sort_me').sortable({
                helper: fixHelperModified,
                stop: function () {
                    renumberTable('.sort_me');
                }
            }); 
        });

        // Open the Modal
        fileFrame.open();
    });
    }

    //Set the thankyou page banner upload script Single Banner
    $('.wbm_thankyou_page_single_upload_file_button').on('click', function (event) {
        var fileFrame;
        var attachment;
        event.preventDefault();


        // If the media frame already exists, reopen it.
        if (fileFrame) {
            fileFrame.open();
            return;
        }

        // Create the media frame.
        fileFrame = wp.media.frames.fileFrame = wp.media({
            title: jQuery(this).data('uploader_title'),
            button: {
                text: jQuery(this).data('uploader_button_text'),
            },
            multiple: false
        });

        // When an file is selected, run a callback.
        fileFrame.on('select', function () {

            attachment = fileFrame.state().get('selection').first().toJSON();

            if(attachment.height > 600 || attachment.width > 1800 ){
                $('.msg_size').remove();
                $('.wbm_thankyou_page_remove_single_file').after('<span class="msg_size" style="color:red;vertical-align: middle;padding: 10px;">Upload image size maximum ratio of 1800px X 600px </span>');
                return;
            } else {
                $('.msg_size').remove();
            }
            // Update front end
            $('.wbm_thankyou_page_cat_banner_img_admin_single').attr('src', attachment.url);
            $('.wbm_thankyou_page_cat_banner_img_admin_single').css('display', 'block');
        });

        // Open the Modal
        fileFrame.open();
    });


    //Set the banner_detail page banner upload script Single Banner
    $('.wbm_banner_detail_page_single_upload_file_button').on('click', function (event) {
        var fileFrame;
        var attachment;
        event.preventDefault();


        // If the media frame already exists, reopen it.
        if (fileFrame) {
            fileFrame.open();
            return;
        }

        // Create the media frame.
        fileFrame = wp.media.frames.fileFrame = wp.media({
            title: jQuery(this).data('uploader_title'),
            button: {
                text: jQuery(this).data('uploader_button_text'),
            },
            multiple: false
        });

        // When an file is selected, run a callback.
        fileFrame.on('select', function () {

            attachment = fileFrame.state().get('selection').first().toJSON();

            // Update front end
            $('.wbm_banner_detail_page_cat_banner_img_admin_single').attr('src', attachment.url);
            $('.wbm_banner_detail_page_cat_banner_img_admin_single').css('display', 'block');
        });

        // Open the Modal
        fileFrame.open();
    });

    if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
    //set the thank you  page banner upload script
    $('.wbm_thank_you_page_upload_file_button').on('click', function (event) {
        var fileFrame;
        var attachment;
        var imageId;
        event.preventDefault();


        // If the media frame already exists, reopen it.
        if (fileFrame) {
            fileFrame.open();
            return;
        }

        // Create the media frame.
        fileFrame = wp.media.frames.fileFrame = wp.media({
            title: jQuery(this).data('uploader_title'),
            button: {
                text: jQuery(this).data('uploader_button_text'),
            },
            multiple: true
        });

        // When an file is selected, run a callback.
        fileFrame.on('select', function () {
            attachment = fileFrame.state().get('selection').toJSON();

            $.each(attachment, function (key, value) {
                var td1;
                var td2;
                var td3;
                var trTag;

                // Update front end
                imageId = $.now() + '' + key + '-' + value.id;
                td1 = $('<td />');
                td2 = $('<td />');
                td3 = $('<td />');

                $('<img />', {
                    'class': 'wbm_thankyou_page_cat_banner_img_admin banner_thankyou_image_' + imageId,
                    'src': value.url
                }).appendTo(td1);
                $('<input />', {
                    'type': 'text',
                    'placeholder': 'Enter banner image link',
                    'title': 'Example: https://multidots.com',
                    'class': 'banner_thankyou_input_' + imageId
                }).appendTo(td2);
                $('<a />', {
                    'class': 'thankyou-single-image-delete single-image-delete',
                    'id': imageId,
                    'text': 'Delete'
                }).appendTo(td3);

                trTag = $('<tr />', {'id': 'banner_thankyou_' + imageId, 'class': 'banner_thankyou_dynamic_div ui-sortable-handle'});
                $(td1).appendTo(trTag);
                $(td2).appendTo(trTag);
                $(td3).appendTo(trTag);
                $(trTag).appendTo('.thankyou_banner_images table');
            });
            remove_thankyou_page_slider_image_init();
            $('.sort_me').sortable({
                helper: fixHelperModified,
                stop: function () {
                    renumberTable('.sort_me');
                }
            }); 
        });

        // Open the Modal
        fileFrame.open();
    });

    //set the product detail page banner upload script
    $('.wbm_banner_detail_page_upload_file_button').on('click', function (event) {
        var fileFrame;
        var attachment;
        var imageId;
        event.preventDefault();


        // If the media frame already exists, reopen it.
        if (fileFrame) {
            fileFrame.open();
            return;
        }

        // Create the media frame.
        fileFrame = wp.media.frames.fileFrame = wp.media({
            title: jQuery(this).data('uploader_title'),
            button: {
                text: jQuery(this).data('uploader_button_text'),
            },
            multiple: true
        });

        // When an file is selected, run a callback.
        fileFrame.on('select', function () {
            attachment = fileFrame.state().get('selection').toJSON();

            $.each(attachment, function (key, value) {
                var td1;
                var td2;
                var td3;
                var trTag;

                // Update front end
                imageId = $.now() + '' + key + '-' + value.id;
                td1 = $('<td />');
                td2 = $('<td />');
                td3 = $('<td />');

                $('<img />', {
                    'class': 'wbm_thankyou_page_cat_banner_img_admin banner_banner_detail_image_' + imageId,
                    'src': value.url
                }).appendTo(td1);
                $('<input />', {
                    'type': 'text',
                    'placeholder': 'Enter banner image link',
                    'title': 'Example: https://multidots.com',
                    'class': 'banner_banner_detail_input_' + imageId
                }).appendTo(td2);
                $('<a />', {
                    'class': 'banner_detail-single-image-delete single-image-delete',
                    'id': imageId,
                    'text': 'Delete'
                }).appendTo(td3);

                trTag = $('<tr />', {'id': 'banner_banner_detail_' + imageId, 'class': 'banner_banner_detail_dynamic_div ui-sortable-handle'});
                $(td1).appendTo(trTag);
                $(td2).appendTo(trTag);
                $(td3).appendTo(trTag);
                $(trTag).appendTo('.banner_detail_banner_images table');
            });
            remove_banner_detail_page_slider_image_init();
            $('.sort_me').sortable({
                helper: fixHelperModified,
                stop: function () {
                    renumberTable('.sort_me');
                }
            }); 
        });

        // Open the Modal
        fileFrame.open();
    });
    }
    
    if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
    //Remove file when selected in add category page
    $('.mdwbm_remove_file').on('click', function () {
        $('.wbm_add_cat_banner_img_admin').attr('value', '');
        $('.wbm_cat_page_cat_banner_link_admin').attr('value', '');
        $('.wbm_add_cat_banner_img_admin').css('display', 'none');
        $('.wbm_cat_page_cat_banner_link_admin').css('display', 'none');
        $('.add_category_dynamic_div').css('display', 'none');
    });
    }

    //remove the shop single banner image script
    $('.wbm_shop_page_remove_single_file').on('click', function () {
        $('.wbm_shop_page_cat_banner_img_admin_single').attr('src', '');
        $('.wbm_shop_page_cat_banner_img_admin_single').css('display', 'none');
        $('#shop_page_banner_single_image_link').attr('value', '');

    });

    if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
        //remove the other page banner image script
        $('.wbm_other_page_remove_file').on('click', function () {
            $('.wbm_other_page_cat_banner_img_admin').attr('src', '');
            $('.wbm_other_page_cat_banner_img_admin').css('display', 'none');
            $('.banner_other_dynamic_div').css('display', 'none');
        });
    }

    //remove the cart single banner image script
    $('.wbm_other_page_remove_single_file').on('click', function () {
        $('.wbm_other_page_cat_banner_img_admin_single').attr('src', '');
        $('.wbm_other_page_cat_banner_img_admin_single').css('display', 'none');
        $('#other_page_banner_single_image_link').attr('value', '');

    });

if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
    //remove the shop banner image script
    $('.wbm_shop_page_remove_file').on('click', function () {
        $('.wbm_shop_page_cat_banner_img_admin').attr('src', '');
        $('.wbm_shop_page_cat_banner_img_admin').css('display', 'none');
        $('.banner_shop_dynamic_div').css('display', 'none');
    });
}

    //remove the cart single banner image script
    $('.wbm_cart_page_remove_single_file').on('click', function () {
        $('.wbm_cart_page_cat_banner_img_admin_single').attr('src', '');
        $('.wbm_cart_page_cat_banner_img_admin_single').css('display', 'none');
        $('#cart_page_banner_single_image_link').attr('value', '');

    });

if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
    //remove the cart page banner image script
    $('.wbm_cart_page_remove_file').on('click', function () {
        $('.wbm_cart_page_cat_banner_img_admin').attr('src', '');
        $('.wbm_cart_page_cat_banner_img_admin').css('display', 'none');
        $('.banner_cart_dynamic_div').css('display', 'none');
    });
}
    //remove the checkout single banner image script
    $('.wbm_checkout_page_remove_single_file').on('click', function () {
        $('.wbm_checkout_page_cat_banner_img_admin_single').attr('src', '');
        $('.wbm_checkout_page_cat_banner_img_admin_single').css('display', 'none');
        $('#checkout_page_banner_single_image_link').attr('value', '');
    });

    //remove the banner_detail single banner image script
    $('.wbm_banner_detail_page_remove_single_file').on('click', function () {
        $('.wbm_banner_detail_page_cat_banner_img_admin_single').attr('src', '');
        $('.wbm_banner_detail_page_cat_banner_img_admin_single').css('display', 'none');
        $('#banner_detail_page_banner_single_image_link').attr('value', '');
    });

if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
    //remove checkout page banner image script
    $('.wbm_checkout_page_remove_file').on('click', function () {
        $('.wbm_checkout_page_cat_banner_img_admin').attr('src', '');
        $('.wbm_checkout_page_cat_banner_img_admin').css('display', 'none');
        $('.banner_checkout_dynamic_div').css('display', 'none');
    });
}
    //remove the thankyou single banner image script
    $('.wbm_thankyou_page_remove_single_file').on('click', function () {
        $('.wbm_thankyou_page_cat_banner_img_admin_single').attr('src', '');
        $('.wbm_thankyou_page_cat_banner_img_admin_single').css('display', 'none');
        $('#thankyou_page_banner_single_image_link').attr('value', '');
    });

    //remove the banner_detail single banner image script
    $('.wbm_banner_detail_page_remove_single_file').on('click', function () {
        $('.wbm_banner_detail_page_cat_banner_img_admin_single').attr('src', '');
        $('.wbm_banner_detail_page_cat_banner_img_admin_single').css('display', 'none');
        $('#banner_detail_page_banner_single_image_link').attr('value', '');
    });

if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
    //remove thank you page banner image script
    $('.wbm_checkout_page_remove_file').on('click', function () {
        $('.wbm_thankyou_page_cat_banner_img_admin').attr('src', '');
        $('.wbm_thankyou_page_cat_banner_img_admin').css('display', 'none');
        $('.banner_thankyou_dynamic_div').css('display', 'none');
    });
}

    if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
        //remove thank you page banner image script
        $('.wbm_checkout_page_remove_file').on('click', function () {
            $('.wbm_banner_detail_page_cat_banner_img_admin').attr('src', '');
            $('.wbm_banner_detail_page_cat_banner_img_admin').css('display', 'none');
            $('.banner_banner_detail_dynamic_div').css('display', 'none');
        });
    }

    if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
        jQuery('#shop_start_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: '0',
            onSelect: function () {
                var dt;
                dt = jQuery(this).datepicker('getDate');
                dt.setDate(dt.getDate() + 1);
                jQuery('#shop_end_date').datepicker('option', 'minDate', dt);
            }
        });

        jQuery('#shop_end_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: '0'
        });

        jQuery('#cart_start_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: '0',
            onSelect: function () {
                var dt;
                dt = jQuery(this).datepicker('getDate');
                dt.setDate(dt.getDate() + 1);
                jQuery('#cart_end_date').datepicker('option', 'minDate', dt);
            }
        });

        jQuery('#cart_end_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: '0'
        });

        jQuery('#checkout_start_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: '0',
            onSelect: function () {
                var dt;
                dt = jQuery(this).datepicker('getDate');
                dt.setDate(dt.getDate() + 1);
                jQuery('#checkout_end_date').datepicker('option', 'minDate', dt);
            }
        });

        jQuery('#other_page_start_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: '0',
            onSelect: function () {
                var dt;
                dt = jQuery(this).datepicker('getDate');
                dt.setDate(dt.getDate() + 1);
                jQuery('#other_page_end_date').datepicker('option', 'minDate', dt);
            }
        });

        jQuery('#banner_detail_start_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: '0',
            onSelect: function () {
                var dt;
                dt = jQuery(this).datepicker('getDate');
                dt.setDate(dt.getDate() + 1);
                jQuery('#banner_detail_end_date').datepicker('option', 'minDate', dt);
            }
        });

        jQuery('#checkout_end_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: '0'
        });

        jQuery('#thankyou_start_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: '0',
            onSelect: function () {
                var dt;
                dt = jQuery(this).datepicker('getDate');
                dt.setDate(dt.getDate() + 1);
                jQuery('#thankyou_end_date').datepicker('option', 'minDate', dt);
            }
        });

        jQuery('#thankyou_end_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: '0'
        });

        jQuery('#banner_detail_end_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: '0'
        });

        jQuery('#other_page_end_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: '0'
        });

        jQuery('#cat_banner_start_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: '0',
            onSelect: function () {
                var dt;
                dt = jQuery(this).datepicker('getDate');
                dt.setDate(dt.getDate() + 1);
                jQuery('#cat_banner_end_date').datepicker('option', 'minDate', dt);
            }
        });

        jQuery('#cat_banner_end_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: '0'
        });
    }
    function remove_slider_image_init() {
        $('.cat-single-image-delete').on('click', function () {
            var imageId;
            if (confirm(wbmAdminVars.alert)) {
                imageId = $(this).attr('id');
                $('.banner_cat_image_' + imageId).attr('value', '');
                $('.banner_cat_image_' + imageId).css('display', 'none');
                $('.wbm_add_cat_banner_img_' + imageId).attr('src', '');
                $('.wbm_add_cat_banner_img_' + imageId).css('display', 'none');
                $('.add_category_input_' + imageId).attr('value', '');
                $('.add_category_input_' + imageId).css('display', 'none');
                $('#add_category_' + imageId).css('display', 'none');
                $('#' + imageId).css('display', 'none');
            }
        });
    }
    remove_slider_image_init();

    function remove_shop_page_slider_image_init() {
        $('.shop-single-image-delete').on('click', function () {
            var imageId;
            if (confirm(wbmAdminVars.alert)) {
                imageId = $(this).attr('id');
                $('.banner_shop_image_' + imageId).attr('src', '');
                $('.banner_shop_image_' + imageId).css('display', 'none');
                $('.banner_shop_input_' + imageId).attr('value', '');
                $('.banner_shop_input_' + imageId).css('display', 'none');
                $('#' + imageId).css('display', 'none');
                $('#banner_shop_' + imageId).css('display', 'none');
            }
        });
    }
    remove_shop_page_slider_image_init();

    function remove_other_page_slider_image_init() {
        $('.other-single-image-delete').on('click', function () {
            var imageId;
            if (confirm(wbmAdminVars.alert)) {
                imageId = $(this).attr('id');
                $('.banner_other_image_' + imageId).attr('src', '');
                $('.banner_other_image_' + imageId).css('display', 'none');
                $('.banner_other_input_' + imageId).attr('value', '');
                $('.banner_other_input_' + imageId).css('display', 'none');
                $('#' + imageId).css('display', 'none');
                $('#banner_other_' + imageId).css('display', 'none');
            }
        });
    }
    remove_other_page_slider_image_init();

    function remove_cart_page_slider_image_init() {
        $('.cart-single-image-delete').on('click', function () {
            var imageId;
            if (confirm(wbmAdminVars.alert)) {
                imageId = $(this).attr('id');
                $('.banner_cart_image_' + imageId).attr('src', '');
                $('.banner_cart_image_' + imageId).css('display', 'none');
                $('.banner_cart_input_' + imageId).attr('value', '');
                $('.banner_cart_input_' + imageId).css('display', 'none');
                $('#' + imageId).css('display', 'none');
                $('#banner_cart_' + imageId).css('display', 'none');
            }
        });
    }
    remove_cart_page_slider_image_init();

    function remove_checkout_page_slider_image_init() {
        $('.checkout-single-image-delete').on('click', function () {
            var imageId;
            if (confirm(wbmAdminVars.alert)) {
                imageId = $(this).attr('id');
                $('.banner_checkout_image_' + imageId).attr('src', '');
                $('.banner_checkout_image_' + imageId).css('display', 'none');
                $('.banner_checkout_input_' + imageId).attr('value', '');
                $('.banner_checkout_input_' + imageId).css('display', 'none');
                $('#' + imageId).css('display', 'none');
                $('#banner_checkout_' + imageId).css('display', 'none');
            }
        });
    }
    remove_checkout_page_slider_image_init();

    function remove_thankyou_page_slider_image_init() {
        $('.thankyou-single-image-delete').on('click', function () {
            var imageId;
            if (confirm(wbmAdminVars.alert)) {
                imageId = $(this).attr('id');
                $('.banner_thankyou_image_' + imageId).attr('src', '');
                $('.banner_thankyou_image_' + imageId).css('display', 'none');
                $('.banner_thankyou_input_' + imageId).attr('value', '');
                $('.banner_thankyou_input_' + imageId).css('display', 'none');
                $('#' + imageId).css('display', 'none');
                $('#banner_thankyou_' + imageId).css('display', 'none');
            }
        });
    }
    remove_thankyou_page_slider_image_init();

    function remove_banner_detail_page_slider_image_init() {
        $('.banner_detail-single-image-delete').on('click', function () {
            var imageId;
            if (confirm(wbmAdminVars.alert)) {
                imageId = $(this).attr('id');
                $('.banner_banner_detail_image_' + imageId).attr('src', '');
                $('.banner_banner_detail_image_' + imageId).css('display', 'none');
                $('.banner_banner_detail_input_' + imageId).attr('value', '');
                $('.banner_banner_detail_input_' + imageId).css('display', 'none');
                $('#' + imageId).css('display', 'none');
                $('#banner_banner_detail_' + imageId).css('display', 'none');
            }
        });
    }
    remove_banner_detail_page_slider_image_init();

    if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {  

    /* jshint ignore:start */
    function cat_banner_image_type_options() {
        var selectValue = $('select.cat-select-image-type').val();
        var value = $('input[name=\'term_meta[cat_banner_image_type]\']:checked').val();
        if ('cat_slider' === value && selectValue === 'cat-multiple-images' ) {
            $('#cat-slider-setting').show();
            var checked = $('#random_images_dots').is(':checked');
            if (checked) {
                $('#cat_page_banner_arrow_color_row').show();
                $('#cat_page_banner_arrow_bg_color_row').show();
            } else {
                $('#cat_page_banner_arrow_color_row').hide();
                $('#cat_page_banner_arrow_bg_color_row').hide();    
            }
        } else {
            $('#cat-slider-setting').hide();
            $('#cat_page_banner_arrow_color_row').hide();
            $('#cat_page_banner_arrow_bg_color_row').hide();
        }
    }
    cat_banner_image_type_options();
    /* jshint ignore:end */

    $('input[name=\'term_meta[cat_banner_image_type]\']').change(function () {
        cat_banner_image_type_options();
    });
    
    $('#random_images_dots').change(function() {
        cat_banner_image_type_options();    
    });

    $('input[name=\'wbm_shop_setting_enable_random_images\']').click(function () {
        var value = $(this).val();
        if ('shop_slider' === value) {
            $('#shop-slider-setting').show();
            var checked = $('#wbm_shop_setting_enable_random_images_dots').is(':checked');
            if (checked) {
                $('#shop-slider-arrow-color-setting').show();
                $('#shop-slider-arrow-bg-color-setting').show();
            }
        } else {
            $('#shop-slider-setting').hide();
            $('#shop-slider-arrow-color-setting').hide();
            $('#shop-slider-arrow-bg-color-setting').hide();
        }
    });

    $('#wbm_shop_setting_enable_random_images_dots').change(function() {
        var checked = $(this).is(':checked');
        if (checked) {
            $('#shop-slider-arrow-color-setting').show();
            $('#shop-slider-arrow-bg-color-setting').show();
        } else {
            $('#shop-slider-arrow-color-setting').hide();
            $('#shop-slider-arrow-bg-color-setting').hide();
        }
    });

    $('input[name=\'wbm_other_setting_enable_random_images\']').click(function () {
        var value = $(this).val();
        if ('other_page_slider' === value) {
            $('#other-slider-setting').show();
            var checked = $('#wbm_other_setting_enable_random_images_dots').is(':checked');
            if (checked) {
                $('#other-slider-arrow-color-setting').show();
                $('#other-slider-arrow-bg-color-setting').show();
            }
        } else {
            $('#other-slider-setting').hide();
            $('#other-slider-arrow-color-setting').hide();
            $('#other-slider-arrow-bg-color-setting').hide();
        }
    });

    $('#wbm_other_setting_enable_random_images_dots').change(function() {
        var checked = $(this).is(':checked');
        if (checked) {
            $('#other-slider-arrow-color-setting').show();
            $('#other-slider-arrow-bg-color-setting').show();
        } else {
            $('#other-slider-arrow-color-setting').hide();
            $('#other-slider-arrow-bg-color-setting').hide();
        }
    });

    $('input[name=\'wbm_cart_setting_enable_random_images\']').click(function () {
        var value = $(this).val();
        if ('cart_slider' === value) {
            $('#cart-slider-setting').show();
            var checked = $('#wbm_cart_setting_enable_random_images_dots').is(':checked');
            if (checked) {
                $('#cart-slider-arrow-color-setting').show();
                $('#cart-slider-arrow-bg-color-setting').show();
            }
        } else {
            $('#cart-slider-setting').hide();
            $('#cart-slider-arrow-color-setting').hide();
            $('#cart-slider-arrow-bg-color-setting').hide();
        }
    });

    $('#wbm_cart_setting_enable_random_images_dots').change(function() {
        var checked = $(this).is(':checked');
        if (checked) {
            $('#cart-slider-arrow-color-setting').show();
            $('#cart-slider-arrow-bg-color-setting').show();
        } else {
            $('#cart-slider-arrow-color-setting').hide();
            $('#cart-slider-arrow-bg-color-setting').hide();
        }
    });

    $('input[name=\'wbm_checkout_setting_enable_random_images\']').click(function () {
        var value = $(this).val();
        if ('checkout_slider' === value) {
            $('#checkout-slider-setting').show();
            var checked = $('#wbm_checkout_setting_enable_random_images_dots').is(':checked');
            if (checked) {
                $('#checkout-slider-arrow-color-setting').show();
                $('#checkout-slider-arrow-bg-color-setting').show();
            }
        } else {
            $('#checkout-slider-setting').hide();
            $('#checkout-slider-arrow-color-setting').hide();
            $('#checkout-slider-arrow-bg-color-setting').hide();
        }
    });

    $('#wbm_checkout_setting_enable_random_images_dots').change(function() {
        var checked = $(this).is(':checked');
        if (checked) {
            $('#checkout-slider-arrow-color-setting').show();
            $('#checkout-slider-arrow-bg-color-setting').show();
        } else {
            $('#checkout-slider-arrow-color-setting').hide();
            $('#checkout-slider-arrow-bg-color-setting').hide();
        }
    });

    $('input[name=\'wbm_thankyou_setting_enable_random_images\']').click(function () {
        var value = $(this).val();
        if ('thankyou_slider' === value) {
            $('#thankyou-slider-setting').show();
            var checked = $('#wbm_thankyou_setting_enable_random_images_dots').is(':checked');
            if (checked) {
                $('#thankyou-slider-arrow-color-setting').show();
                $('#thankyou-slider-arrow-bg-color-setting').show();
            }
        } else {
            $('#thankyou-slider-setting').hide();
            $('#thankyou-slider-arrow-color-setting').hide();
            $('#thankyou-slider-arrow-bg-color-setting').hide();
        }
    });

    $('#wbm_thankyou_setting_enable_random_images_dots').change(function() {
        var checked = $(this).is(':checked');
        if (checked) {
            $('#thankyou-slider-arrow-color-setting').show();
            $('#thankyou-slider-arrow-bg-color-setting').show();
        } else {
            $('#thankyou-slider-arrow-color-setting').hide();
            $('#thankyou-slider-arrow-bg-color-setting').hide();
        }
    });

    $('input[name=\'wbm_banner_detail_setting_enable_random_images\']').click(function () {
        var value = $(this).val();
        if ('banner_detail_slider' === value) {
            $('#banner_detail-slider-setting').show();
            var checked = $('#wbm_banner_detail_setting_enable_random_images_dots').is(':checked');
            if (checked) {
                $('#banner_detail-slider-arrow-color-setting').show();
                $('#banner_detail-slider-arrow-bg-color-setting').show();
            }
        } else {
            $('#banner_detail-slider-setting').hide();
            $('#banner_detail-slider-arrow-color-setting').hide();
            $('#banner_detail-slider-arrow-bg-color-setting').hide();
        }
    });

    $('#wbm_banner_detail_setting_enable_random_images_dots').change(function() {
        var checked = $(this).is(':checked');
        if (checked) {
            $('#banner_detail-slider-arrow-color-setting').show();
            $('#banner_detail-slider-arrow-bg-color-setting').show();
        } else {
            $('#banner_detail-slider-arrow-color-setting').hide();
            $('#banner_detail-slider-arrow-bg-color-setting').hide();
        }
    });

    $('select.cat-select-image-type').change(function () {
        cat_banner_image_type_options();
        var selectValue;
        $('#cat-multiple-banner-type,#cat-multiple-banner-image,#cat-single-banner-upload,#cat-single-banner-image,#cat-single-image-link, #cat_select_size_type_row, #cat_page_banner_title_color_row, #cat_page_banner_title_size_row, #display_cate_title_flag_row, #cat_page_banner_button_text_color_row, #cat_page_banner_button_bg_color_row, #cat_page_banner_description_row, #cat_page_banner_button_text_row, #cat_page_banner_button_link_row').hide();
        selectValue = $(this).val();
        if ('cat-multiple-images' === selectValue) {
            $('#cat-multiple-banner-type').show();
            $('#cat-multiple-banner-image').show();
        } else {
            $('#cat-single-banner-upload').show();
            $('#cat-single-banner-image').show();
            $('#cat-single-image-link').show();
            $('#cat_select_size_type_row').show();
            $('#cat_page_banner_title_color_row').show();
            $('#cat_page_banner_title_size_row').show();
            $('#cat_page_banner_button_text_row').show();
            $('#cat_page_banner_button_link_row').show();
            $('#display_cate_title_flag_row').show();
            $('#cat_page_banner_button_text_color_row').show();
            $('#cat_page_banner_button_bg_color_row').show();
            $('#cat_page_banner_description_row').show();
            $('#cat-slider-setting, #cat_page_banner_arrow_color_row, #cat_page_banner_arrow_bg_color_row').hide();
        }
    });

    $('select.shop-select-image-type').change(function () {
        var selectValue;
        $('#shop-single-image,#shop-multiple-images').hide();
        selectValue = $(this).val();
        $('#' + selectValue).show();
    });

    $('select.other-page-select-image-type').change(function () {
        var selectValue;
        $('#other-single-image,#other-multiple-images').hide();
        selectValue = $(this).val();
        $('#' + selectValue).show();
    });

    $('select.cart-select-image-type').change(function () {
        var selectValue;
        $('#cart-single-image,#cart-multiple-images').hide();
        selectValue = $(this).val();
        $('#' + selectValue).show();
    });

    $('select.checkout-select-image-type').change(function () {
        var selectValue;
        $('#checkout-single-image,#checkout-multiple-images').hide();
        selectValue = $(this).val();
        $('#' + selectValue).show();
    });

    $('select.thankyou-select-image-type').change(function () {
        var selectValue;
        
        $('#thankyou-single-image,#thankyou-multiple-images').hide();
        selectValue = $(this).val();
        $('#' + selectValue).show();
    });
    $('select.banner_detail-select-image-type').change(function () {
        var selectValue;
        $('#banner_detail-single-image, #banner_detail-multiple-images').hide();
        selectValue = $(this).val();
        $('#' + selectValue).show();
    });
    }

    // admin image popup js
    $('.wbm-open-popup').on('click', function() {
        $('body').addClass('wbm-popup-active');
    });
    $('.wbm-popup-close').on('click', function() {
        $('body').removeClass('wbm-popup-active');
    });

    function product_slider_shortcode_content() {
        $('select#featured-product').select2();
        $('select#product-categories').select2();
        $('#wbm_prod_slider_setting_on_sale').change( function() {
          var onSale = $('#wbm_prod_slider_setting_on_sale').is(':checked');
          if (onSale) {
            $('.on-sale').text(' on_sale="yes"');
          } else {
            $('.on-sale').text('');
          }
        });

        $('select#featured-product').change(function () {
            var featuredProduct = $(this).val();
            if ($('select#featured-product option:selected').length !== 0) {
                $('.featured-prod').text(' featured_product_id="'+ featuredProduct +'"');
            } else {
                $('.featured-prod').text('');
            }
        });

        var wbm_max_price = $( '#wbm_max_price' ).attr('max-price');
        var priceRange = $('#wbm_max_price').val();
        var newPrice = '';
        if ( priceRange !== undefined ) {
            newPrice = priceRange.split('-');
        }
        var MinPrice = newPrice[0];
        var MaxPrice = newPrice[1];
        $( '#wbm-price-range-slider' ).slider({
            range: true,
            min: 0,
            max: wbm_max_price,
            values: [ MinPrice ? MinPrice : 0 , MaxPrice ? MaxPrice : wbm_max_price ],
            slide: function( event, ui ) {
                $( '#wbm-price-range' ).val( '$' + ui.values[ 0 ] + ' - $' + ui.values[ 1 ] );
                $( '.price-range' ).html((' price_range=' + ui.values[ 0 ] + '-' + ui.values[ 1 ]));
                $( '#wbm_max_price' ).val(ui.values[ 0 ] + '-' + ui.values[ 1 ]);
            }
        });
          
        $( '#wbm-price-range' ).val( '$' + $( '#wbm-price-range-slider' ).slider( 'values', 0 ) + ' - $' + $( '#wbm-price-range-slider' ).slider( 'values', 1 ) );

        $('select#product-categories').change(function () {
            var productCat = $(this).val();
            if ($('select#product-categories option:selected').length !== 0) {
                $('.categories').text(' category_id="'+ productCat +'"');
            } else {
                $('.categories').text('');
            }
        });

        $(window).load(function () {
            var featuredProduct = $('select#featured-product').val();
            if ($('select#featured-product option:selected').length !== 0) {
                $('.featured-prod').text(' featured_product_id="'+ featuredProduct +'"');
            } else {
                $('.featured-prod').text('');
            }
            var productCat = $('select#product-categories').val();
            if ($('select#product-categories option:selected').length !== 0) {
                $('.categories').text(' category_id="'+ productCat +'"');
            } else {
                $('.categories').text('');
            }
            var onSale = $('#wbm_prod_slider_setting_on_sale').is(':checked');
            if (onSale) {
               $('.on-sale').text(' on_sale="yes"');
            } else {
               $('.on-sale').text('');
            }

            var priceRange = $( '#wbm_max_price' ).val();
            if (priceRange !== '') {
                $( '.price-range' ).html(' price_range='+ priceRange +'');
            }
            $( '#wbm-price-range-slider' ).slider({
                slide: function( event, ui ) {
                    $( '#wbm-price-range' ).val( '$' + ui.values[ 0 ] + ' - $' + ui.values[ 1 ] );
                    $( '.price-range' ).html((' price_range=' + ui.values[ 0 ] + '-' + ui.values[ 1 ]));
                    $( '#wbm_max_price' ).val(ui.values[ 0 ] + '-' + ui.values[ 1 ]);
                }
            });
        });
    }
    product_slider_shortcode_content();

    function category_slider_shortcode_content() {
        $('select#categories-slider').select2();
        $('select#categories-slider').change(function () {
            var productCat = $('select#categories-slider').val();
            if ($('select#categories-slider option:selected').length !== 0) {
                $('.cat-slider').text(' category_id="'+ productCat +'"');
            } else {
                $('.cat-slider').text('');
            }
        });

        $('#wbm_cat_slider_setting_by_title').change( function() {
          var byTitle = $('#wbm_cat_slider_setting_by_title').is(':checked');
          if (byTitle) {
            $('.by-title').text(' cat_title="yes"');
          } else {
            $('.by-title').text('');
          }
        });

        $('#wbm_cat_slider_setting_feature_img').change( function() {
          var byFeatureImg = $('#wbm_cat_slider_setting_feature_img').is(':checked');
          if (byFeatureImg) {
            $('.by-feature-img').text(' cat_feature_img="yes"');
          } else {
            $('.by-feature-img').text('');
          }
        });

        $('#wbm_cat_slider_setting_by_desc').change( function() {
          var byDescription = $('#wbm_cat_slider_setting_by_desc').is(':checked');
          if (byDescription) {
            $('.by-description').text(' cat_description="yes"');
          } else {
            $('.by-description').text('');
          }
        });

        $('#wbm_cat_slider_setting_by_count').change( function() {
          var byCount = $('#wbm_cat_slider_setting_by_count').is(':checked');
          if (byCount) {
            $('.by-count').text(' cat_count="yes"');
          } else {
            $('.by-count').text('');
          }
        });

        $(window).load(function () {
            var productCat = $('select#categories-slider').val();
            if ($('select#categories-slider option:selected').length !== 0) {
               $('.cat-slider').text(' category_id="'+ productCat +'"');
            } else {
               $('.cat-slider').text('');
            }

            var byTitle = $('#wbm_cat_slider_setting_by_title').is(':checked');
            if (byTitle) {
               $('.by-title').text(' cat_title="yes"');
            } else {
               $('.by-title').text('');
            }

            var byFeatureImg = $('#wbm_cat_slider_setting_feature_img').is(':checked');
            if (byFeatureImg) {
               $('.by-feature-img').text(' cat_feature_img="yes"');
            } else {
               $('.by-feature-img').text('');
            }

            var byDescription = $('#wbm_cat_slider_setting_by_desc').is(':checked');
            if (byDescription) {
               $('.by-description').text(' cat_description="yes"');
            } else {
               $('.by-description').text('');
            }

            var byCount = $('#wbm_cat_slider_setting_by_count').is(':checked');
            if (byCount) {
               $('.by-count').text(' cat_count="yes"');
            } else {
               $('.by-count').text('');
            }
        });
    }
    category_slider_shortcode_content();

    $('.wbm-copy-shortcode').click(function (e) {
        e.preventDefault();
        /* Get the text field */
        var copyText = $(this);
        /* Select the text field */
        copyText.select();
        document.execCommand('copy');
        jQuery('.wbm-after-copy-text').animate({
          opacity: 1,
          top: 36 + 'px'
        }, 300);
        setTimeout(function () {
          jQuery('.wbm-after-copy-text').animate({
            opacity: 0,
            top: -25 + 'px'
          }, 200);
        }, 2000);
    });

    $('select#wbm_filter_categories').change(function () {
        let selectedOption;
        selectedOption = $(this).val();
        if ( 'wbm_specific_categories' === selectedOption ) {
            $('.wbm-select-categories').show();
            $('.wbm-exclude-categories').hide();
        } else if( 'wbm_exclude_categories' === selectedOption ) {
            $('.wbm-select-categories').hide();
            $('.wbm-exclude-categories').show();
        } else {
            $('.wbm-cmn-categories').hide();
        }
    });
 
    // var selectedCatFilterType = $('select#wbm_filter_categories').val();
    // if ( 'wbm_specific_categories' === selectedCatFilterType ) {
    //     $('.wbm-select-categories').show();
    // } else {
    //     $('.wbm-select-categories').hide();
    // }

    $('select#wbm_filter_products').change(function () {
        let selectedOption;
        selectedOption = $(this).val();
        if ( 'wbm_specific_products' === selectedOption ) {
            $('.wbm-select-products').show();
            $('.wbm-select-featured-products').hide();
            
        } else if ( 'wbm_featured_products' === selectedOption ) {
            $('.wbm-select-featured-products').show();
            $('.wbm-select-products').hide();
            
        } else if ( 'wbm_by_categories' === selectedOption ) {
            $('.wbm-select-featured-products').hide();
            $('.wbm-select-products').hide();
            
        } else if ( 'wbm_exclude_product' === selectedOption ) {
            $('.wbm-select-featured-products').hide();
            $('.wbm-select-products').hide();
            
        } else {
            $('.wbm-select-products').hide();
            $('.wbm-select-featured-products').hide();
            
        }
    });
 
    var selectedProductFilterType = $('select#wbm_filter_products').val();
    if ( 'wbm_specific_products' === selectedProductFilterType ) {
        $('.wbm-select-products').show();
        $('.wbm-select-featured-products').hide();
        
    } else if ( 'wbm_featured_products' === selectedProductFilterType ) {
        $('.wbm-select-featured-products').show();
        $('.wbm-select-products').hide();
        
    } else if ( 'wbm_by_categories' === selectedProductFilterType ) {
        $('.wbm-select-featured-products').hide();
        $('.wbm-select-products').hide();
        
    } else if ( 'wbm_exclude_product' === selectedProductFilterType ) {
        $('.wbm-select-featured-products').hide();
        $('.wbm-select-products').hide();
        
    } else {
        $('.wbm-select-products').hide();
        $('.wbm-select-featured-products').hide();
        
    }

    $('#wbm_cat_make_card_style').change(function () {
        let checked;
        checked = $(this).is(':checked');
        if ( checked ) {
            $('.wbm-cat-make-card-field').show();
        } else {
            $('.wbm-cat-make-card-field').hide();
        }
    });

    var makeCardChecked = $('#wbm_cat_make_card_style').is(':checked');
    if ( makeCardChecked ) {
        $('.wbm-cat-make-card-field').show();
    } else {
        $('.wbm-cat-make-card-field').hide();
    }

    $('#wbm_shop_now_button').change(function () {
        let checked;
        checked = $(this).is(':checked');
        if ( checked ) {
            $('.wbm-shop-now-btn-field').show();
        } else {
            $('.wbm-shop-now-btn-field').hide();
        }
    });

    var shopNowChecked = $('#wbm_shop_now_button').is(':checked');
    if ( shopNowChecked ) {
        $('.wbm-shop-now-btn-field').show();
    } else {
        $('.wbm-shop-now-btn-field').hide();
    }

    $('#wbm_cat_desc_status').change(function () {
        let checked;
        checked = $(this).is(':checked');
        if ( checked ) {
            $('.wbm-cat-desc-field').show();
        } else {
            $('.wbm-cat-desc-field').hide();
        }
    });

    var catProductCountChecked = $('#wbm_cat_prod_cnt_status').is(':checked');
    if ( catProductCountChecked ) {
        $('.wbm-cat-product-count').show();
    } else {
        $('.wbm-cat-product-count').hide();
    }

    $('#wbm_cat_prod_cnt_status').change(function () {
        let checked;
        checked = $(this).is(':checked');
        if ( checked ) {
            $('.wbm-cat-product-count').show();
        } else {
            $('.wbm-cat-product-count').hide();
        }
    });

    var catDescriptionChecked = $('#wbm_cat_desc_status').is(':checked');
    if ( catDescriptionChecked ) {
        $('.wbm-cat-desc-field').show();
    } else {
        $('.wbm-cat-desc-field').hide();
    }

    $('#wbm_cat_prod_count').change(function () {
        let checked;
        checked = $(this).is(':checked');
        if ( checked ) {
            $('.wbm-prod-count-field').show();
        } else {
            $('.wbm-prod-count-field').hide();
        }
    });

    var prodCountChecked = $('#wbm_cat_prod_count').is(':checked');
    if ( prodCountChecked ) {
        $('.wbm-prod-count-field').show();
    } else {
        $('.wbm-prod-count-field').hide();
    }

    $('#wbm_cat_name_status').change(function () {
        let checked;
        checked = $(this).is(':checked');
        if ( checked ) {
            $('.wbm-cat-name-field').show();
            let prodCountChecked = $('#wbm_cat_prod_count').is(':checked');
            if ( prodCountChecked ) {
                $('.wbm-prod-count-field').show();
            } else {
                $('.wbm-prod-count-field').hide();
            }
        } else {
            $('.wbm-cat-name-field').hide();
        }
    });

    var catNameChecked = $('#wbm_cat_name_status').is(':checked');
    if ( catNameChecked ) {
        $('.wbm-cat-name-field').show();
        let prodCountChecked = $('#wbm_cat_prod_count').is(':checked');
        if ( prodCountChecked ) {
            $('.wbm-prod-count-field').show();
        } else {
            $('.wbm-prod-count-field').hide();
        }
    } else {
        $('.wbm-cat-name-field').hide();
    }

    $('#wbm_cat_title').change(function () {
        let checked;
        checked = $(this).is(':checked');
        if ( checked ) {
            $('.wbm-section-title-field').show();
        } else {
            $('.wbm-section-title-field').hide();
        }
    });

    var catSecTitleChecked = $('#wbm_cat_title').is(':checked');
    if ( catSecTitleChecked ) {
        $('.wbm-section-title-field').show();
    } else {
        $('.wbm-section-title-field').hide();
    }

    $('#wbm_cat_thumb_border').change(function () {
        let checked;
        checked = $(this).is(':checked');
        if ( checked ) {
            $('.wbm-thumb-border-field').show();
        } else {
            $('.wbm-thumb-border-field').hide();
        }
    });

    var catThumbBorderChecked = $('#wbm_cat_thumb_border').is(':checked');
    if ( catThumbBorderChecked ) {
        $('.wbm-thumb-border-field').show();
    } else {
        $('.wbm-thumb-border-field').hide();
    }

    $('input[name="wbm_category_slider_sliders[wbm_cat_nav_status]"]').change(function () {
        let checked;
        checked = $(this).val();
        if ( 'true' === checked ) {
            $('.wbm-cat-nav-field').show();
        } else {
            $('.wbm-cat-nav-field').hide();
        }
    });

    var catNavCheckedVal = $('input[name="wbm_category_slider_sliders[wbm_cat_nav_status]"]:checked').val();
    if ( 'true' ===  catNavCheckedVal ) {
        $('.wbm-cat-nav-field').show();
    } else {
        $('.wbm-cat-nav-field').hide();
    }

    $('input[name="wbm_category_slider_sliders[wbm_cat_pager_status]"]').change(function () {
        let checked;
        checked = $(this).val();
        if ( 'true' === checked ) {
            $('.wbm-cat-pager-field').show();
        } else {
            $('.wbm-cat-pager-field').hide();
        }
    });

    var catPagerCheckedVal = $('input[name="wbm_category_slider_sliders[wbm_cat_pager_status]"]:checked').val();
    if ( 'true' ===  catPagerCheckedVal ) {
        $('.wbm-cat-pager-field').show();
    } else {
        $('.wbm-cat-pager-field').hide();
    }

    $('#wbm_prod_title').change(function () {
        let checked;
        checked = $(this).is(':checked');
        if ( checked ) {
            $('.wbm-prod-sec-title-field').show();
        } else {
            $('.wbm-prod-sec-title-field').hide();
        }
    });

    var prodSecTitleChecked = $('#wbm_prod_title').is(':checked');
    if ( prodSecTitleChecked ) {
        $('.wbm-prod-sec-title-field').show();
    } else {
        $('.wbm-prod-sec-title-field').hide();
    }

    $('input[name="wbm_product_slider_sliders[wbm_prod_nav_status]"]').change(function () {
        let checked;
        checked = $(this).val();
        if ( 'true' === checked ) {
            $('.wbm-prod-nav-field').show();
        } else {
            $('.wbm-prod-nav-field').hide();
        }
    });

    var prodNavCheckedVal = $('input[name="wbm_product_slider_sliders[wbm_prod_nav_status]"]:checked').val();
    if ( 'true' ===  prodNavCheckedVal ) {
        $('.wbm-prod-nav-field').show();
    } else {
        $('.wbm-prod-nav-field').hide();
    }

    $('input[name="wbm_product_slider_sliders[wbm_prod_pager_status]"]').change(function () {
        let checked;
        checked = $(this).val();
        if ( 'true' === checked ) {
            $('.wbm-prod-pager-field').show();
        } else {
            $('.wbm-prod-pager-field').hide();
        }
    });

    var prodPagerCheckedVal = $('input[name="wbm_product_slider_sliders[wbm_prod_pager_status]"]:checked').val();
    if ( 'true' ===  prodPagerCheckedVal ) {
        $('.wbm-prod-pager-field').show();
    } else {
        $('.wbm-prod-pager-field').hide();
    }
});

if ( 'true' === wbmAdminVars.can_use_premium_code || true === wbmAdminVars.can_use_premium_code ) {
    //Renumber table rows
    /* jshint ignore:start */
    function renumberTable(tableID) {
        var count;
        jQuery(tableID + ' tr').each(function () {
            count = jQuery(this).parent().children().index(jQuery(this)) + 1;
            jQuery(this).find('.priority').text(count);
        });
    }
    /* jshint ignore:end */
}
